{% extends "network/layout.html" %}
{% load static %}
{% block body %}
<h1>{{ title }}</h1>
{% if user.is_authenticated %}
<div id="create-post">
    <div class="post-create-modal hidden">
        <h3>Create new post</h3>
        <form action="/" method="post">
            {% csrf_token %}
            <div><textarea name="body" id="" cols="60" rows="10"
                    placeholder="Type the contents of your post here..."></textarea></div>
            <div><button>submit</button></div>
        </form>
    </div>
</div>
{% endif %}
{% if user.is_authenticated %}
<div id="post-list" data-login="true">
    {% else %}
    <div id="post-list" data-login="false">
        {% endif%}
        {% if user.is_authenticated %}
        <button class="modal-show-button">Create new post!</button>
        {% endif %}
        {% for post in posts %}
        <div class="post" data-post="{{ post.id }}">
            <div class="post-top">
                <p class="post-user"><a href="{% url 'profile' post.user.id%}">{{ post.user }}</a></p>
                <p class="post-timestamp">{{ post.timestamp }}</p>
            </div>
            <div class="post-body">
                <p>{{ post.content }}</p>
            </div>
            <div class="post-bottom">
                <div class="like" data-post="{{ post.id }}">
                    <img class="" src="{% static 'network/images/not_liked.png' %}" alt="">
                    <img class="hidden" src="{% static 'network/images/liked.png' %}" alt="">
                </div>
                <p class="likes">0</p>
            </div>
        </div>
        {% endfor %}
        <div class="pagination">
            {% if title == "Followed" %}
            {% if previous %}
            <a href="{% url 'followed' %}?page={{previous}}">previous</a>
            {% endif %}
            {% if next %}
            <a href="{% url 'followed' %}?page={{next}}">next</a>
            {% endif %}
            {% else %}
            {% if previous %}
            <a href="{% url 'index' %}?page={{previous}}">previous</a>
            {% endif %}
            {% if next %}
            <a href="{% url 'index' %}?page={{next}}">next</a>
            {% endif %}
            {% endif %}
        </div>
    </div>
    <script src="{% static 'network/js/show_modal.js' %}"></script>
    <script src="{% static 'network/js/post_liking.js' %}"></script>
    {% endblock %}